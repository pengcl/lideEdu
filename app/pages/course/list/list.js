"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var app = getApp();
Page({
    data: {
        subjects: [],
        subject: '',
        items: [],
        showMore: false
    },
    onShow: function () {
        var that = this;
        wx.request({
            url: app.globalData.prefix + 'getSubjectList',
            data: { id: app.globalData.typeId },
            header: {
                'content-type': 'application/json'
            },
            success: function (res) {
                that.setData({
                    subjects: res.data.result.list,
                    subject: res.data.result.list[0]
                });
                that.getItems(res.data.result.list[0].id);
            }
        });
    },
    getItems: function (subjectId) {
        var that = this;
        wx.request({
            url: app.globalData.prefix + 'getVideoList',
            data: { id: app.globalData.typeId, subjectId: subjectId },
            header: {
                'content-type': 'application/json'
            },
            success: function (res) {
                console.log(res);
                that.setData({
                    items: res.data.result.list
                });
                console.log(that.data.items);
            }
        });
    },
    selected: function (e) {
        console.log(e.currentTarget.dataset.item);
        this.setData({
            subject: e.currentTarget.dataset.item
        });
        this.getItems(e.currentTarget.dataset.item.id);
    },
    onReachBottom: function () {
        console.log('bottom');
    },
    more: function () {
        console.log('more');
        this.setData({
            showMore: !this.data.showMore
        });
        console.log(this.data.showMore);
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxpc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQSxJQUFNLEdBQUcsR0FBRyxNQUFNLEVBQVUsQ0FBQztBQUM3QixJQUFJLENBQUM7SUFDSCxJQUFJLEVBQUU7UUFDSixRQUFRLEVBQUUsRUFBRTtRQUNaLE9BQU8sRUFBRSxFQUFFO1FBQ1gsS0FBSyxFQUFDLEVBQUU7UUFDUixRQUFRLEVBQUUsS0FBSztLQUNoQjtJQUNELE1BQU07UUFDSixJQUFNLElBQUksR0FBRyxJQUFJLENBQUM7UUFDbEIsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUNULEdBQUcsRUFBRSxHQUFHLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxnQkFBZ0I7WUFDN0MsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFO1lBQ25DLE1BQU0sRUFBRTtnQkFDTixjQUFjLEVBQUUsa0JBQWtCO2FBQ25DO1lBQ0QsT0FBTyxZQUFDLEdBQVE7Z0JBQ2QsSUFBSSxDQUFDLE9BQVEsQ0FBQztvQkFDWixRQUFRLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSTtvQkFDOUIsT0FBTyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7aUJBQ2pDLENBQUMsQ0FBQztnQkFDSCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUM1QyxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELFFBQVEsWUFBQyxTQUFhO1FBQ3BCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQztRQUNsQixFQUFFLENBQUMsT0FBTyxDQUFDO1lBQ1QsR0FBRyxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLGNBQWM7WUFDM0MsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUU7WUFDekQsTUFBTSxFQUFFO2dCQUNOLGNBQWMsRUFBRSxrQkFBa0I7YUFDbkM7WUFDRCxPQUFPLFlBQUMsR0FBUTtnQkFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNqQixJQUFJLENBQUMsT0FBUSxDQUFDO29CQUNaLEtBQUssRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJO2lCQUM1QixDQUFDLENBQUM7Z0JBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQy9CLENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0QsUUFBUSxZQUFDLENBQU07UUFDYixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxPQUFRLENBQUM7WUFDWixPQUFPLEVBQUUsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSTtTQUN0QyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBQ0QsYUFBYTtRQUNYLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUNELElBQUk7UUFDRixPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxPQUFRLENBQUM7WUFDWixRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVE7U0FDOUIsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7Q0FDRixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTXlBcHAgfSBmcm9tICcuLi8uLi8uLi8uLi9hcHAnO1xuaW1wb3J0IHsgZm9ybWF0VGltZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWwnO1xuY29uc3QgYXBwID0gZ2V0QXBwPElNeUFwcD4oKTtcblBhZ2Uoe1xuICBkYXRhOiB7XG4gICAgc3ViamVjdHM6IFtdLFxuICAgIHN1YmplY3Q6ICcnLFxuICAgIGl0ZW1zOltdLFxuICAgIHNob3dNb3JlOiBmYWxzZVxuICB9LFxuICBvblNob3coKSB7XG4gICAgY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgd3gucmVxdWVzdCh7XG4gICAgICB1cmw6IGFwcC5nbG9iYWxEYXRhLnByZWZpeCArICdnZXRTdWJqZWN0TGlzdCcsIC8v6ICD5YmN6LWE5paZ5YiX6KGoXG4gICAgICBkYXRhOiB7IGlkOiBhcHAuZ2xvYmFsRGF0YS50eXBlSWQgfSxcbiAgICAgIGhlYWRlcjoge1xuICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIC8vIOm7mOiupOWAvFxuICAgICAgfSxcbiAgICAgIHN1Y2Nlc3MocmVzOiBhbnkpIHtcbiAgICAgICAgdGhhdC5zZXREYXRhISh7XG4gICAgICAgICAgc3ViamVjdHM6IHJlcy5kYXRhLnJlc3VsdC5saXN0LFxuICAgICAgICAgIHN1YmplY3Q6IHJlcy5kYXRhLnJlc3VsdC5saXN0WzBdXG4gICAgICAgIH0pO1xuICAgICAgICB0aGF0LmdldEl0ZW1zKHJlcy5kYXRhLnJlc3VsdC5saXN0WzBdLmlkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBnZXRJdGVtcyhzdWJqZWN0SWQ6YW55KSB7XG4gICAgY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgd3gucmVxdWVzdCh7XG4gICAgICB1cmw6IGFwcC5nbG9iYWxEYXRhLnByZWZpeCArICdnZXRWaWRlb0xpc3QnLCAvL+iAg+WJjei1hOaWmeWIl+ihqFxuICAgICAgZGF0YTogeyBpZDogYXBwLmdsb2JhbERhdGEudHlwZUlkLCBzdWJqZWN0SWQ6IHN1YmplY3RJZCB9LFxuICAgICAgaGVhZGVyOiB7XG4gICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgLy8g6buY6K6k5YC8XG4gICAgICB9LFxuICAgICAgc3VjY2VzcyhyZXM6IGFueSkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICB0aGF0LnNldERhdGEhKHtcbiAgICAgICAgICBpdGVtczogcmVzLmRhdGEucmVzdWx0Lmxpc3RcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoYXQuZGF0YS5pdGVtcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHNlbGVjdGVkKGU6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKGUuY3VycmVudFRhcmdldC5kYXRhc2V0Lml0ZW0pO1xuICAgIHRoaXMuc2V0RGF0YSEoe1xuICAgICAgc3ViamVjdDogZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaXRlbVxuICAgIH0pO1xuICAgIHRoaXMuZ2V0SXRlbXMoZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaXRlbS5pZCk7XG4gIH0sXG4gIG9uUmVhY2hCb3R0b20oKSB7XG4gICAgY29uc29sZS5sb2coJ2JvdHRvbScpO1xuICB9LFxuICBtb3JlKCkge1xuICAgIGNvbnNvbGUubG9nKCdtb3JlJyk7XG4gICAgdGhpcy5zZXREYXRhISh7XG4gICAgICBzaG93TW9yZTogIXRoaXMuZGF0YS5zaG93TW9yZVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YS5zaG93TW9yZSk7XG4gIH1cbn0pXG4iXX0=