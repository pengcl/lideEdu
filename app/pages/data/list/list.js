"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = require("../../../utils/util");
var app = getApp();
Page({
    data: {
        tabs: ["考前资料", "答案对照"],
        activeIndex: 0,
        sliderOffset: 0,
        sliderLeft: 0,
        exams: [],
        answers: []
    },
    onShow: function () {
        var that = this;
        console.log(app.globalData.typeId);
        wx.request({
            url: app.globalData.prefix + 'getExamInfoList',
            data: { id: app.globalData.typeId },
            header: {
                'content-type': 'application/json'
            },
            success: function (res) {
                console.log(res);
                that.setData({
                    exams: res.data.result.list.map(function (item) {
                        item.createTime = util_1.formatTime(new Date(item.createTime));
                        return item;
                    })
                });
                console.log(that.data.exams);
            }
        });
        wx.request({
            url: app.globalData.prefix + 'getExamAnswersList',
            data: { id: app.globalData.typeId },
            header: {
                'content-type': 'application/json'
            },
            success: function (res) {
                that.setData({
                    answers: res.data.result.list.map(function (item) {
                        item.createTime = util_1.formatTime(new Date(item.createTime));
                        return item;
                    })
                });
            }
        });
        this.setData({
            activeIndex: app.globalData.dataTabIndex
        });
    },
    openPdf: function (e) {
        wx.downloadFile({
            url: app.globalData.filePrefix + e.currentTarget.dataset.id,
            success: function (res) {
                var Path = res.tempFilePath;
                wx.openDocument({
                    filePath: Path,
                    fileType: 'pdf',
                    success: function (res) {
                        console.log(res);
                    }
                });
            },
            fail: function (res) {
                console.log(res);
            }
        });
    },
    tabClick: function (e) {
        app.globalData.dataTabIndex = e.currentTarget.id;
        this.setData({
            sliderOffset: e.currentTarget.offsetLeft,
            activeIndex: e.currentTarget.id
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxpc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSw0Q0FBNEQ7QUFDNUQsSUFBTSxHQUFHLEdBQUcsTUFBTSxFQUFVLENBQUM7QUFDN0IsSUFBSSxDQUFDO0lBQ0gsSUFBSSxFQUFFO1FBQ0osSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUN0QixXQUFXLEVBQUUsQ0FBQztRQUNkLFlBQVksRUFBRSxDQUFDO1FBQ2YsVUFBVSxFQUFFLENBQUM7UUFDYixLQUFLLEVBQUUsRUFBRTtRQUNULE9BQU8sRUFBRSxFQUFFO0tBQ1o7SUFDRCxNQUFNO1FBQ0osSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuQyxFQUFFLENBQUMsT0FBTyxDQUFDO1lBQ1QsR0FBRyxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLGlCQUFpQjtZQUM5QyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7WUFDbkMsTUFBTSxFQUFFO2dCQUNOLGNBQWMsRUFBRSxrQkFBa0I7YUFDbkM7WUFDRCxPQUFPLFlBQUMsR0FBUTtnQkFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNqQixJQUFJLENBQUMsT0FBUSxDQUFDO29CQUNaLEtBQUssRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQUMsSUFBUzt3QkFDeEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxpQkFBVSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFBO3dCQUN2RCxPQUFPLElBQUksQ0FBQztvQkFDZCxDQUFDLENBQUM7aUJBQ0gsQ0FBQyxDQUFBO2dCQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMvQixDQUFDO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUNULEdBQUcsRUFBRSxHQUFHLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxvQkFBb0I7WUFDakQsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFO1lBQ25DLE1BQU0sRUFBRTtnQkFDTixjQUFjLEVBQUUsa0JBQWtCO2FBQ25DO1lBQ0QsT0FBTyxZQUFDLEdBQVE7Z0JBQ2QsSUFBSSxDQUFDLE9BQVEsQ0FBQztvQkFDWixPQUFPLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQVM7d0JBQzFDLElBQUksQ0FBQyxVQUFVLEdBQUcsaUJBQVUsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQTt3QkFDdkQsT0FBTyxJQUFJLENBQUM7b0JBQ2QsQ0FBQyxDQUFDO2lCQUNILENBQUMsQ0FBQTtZQUNKLENBQUM7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsT0FBUSxDQUFDO1lBQ1osV0FBVyxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsWUFBWTtTQUN6QyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0QsT0FBTyxZQUFDLENBQU07UUFDWixFQUFFLENBQUMsWUFBWSxDQUFDO1lBQ2QsR0FBRyxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDM0QsT0FBTyxFQUFFLFVBQVUsR0FBRztnQkFDcEIsSUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQTtnQkFDM0IsRUFBRSxDQUFDLFlBQVksQ0FBQztvQkFDZCxRQUFRLEVBQUUsSUFBSTtvQkFDZCxRQUFRLEVBQUUsS0FBSztvQkFDZixPQUFPLEVBQUUsVUFBVSxHQUFHO3dCQUNwQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNuQixDQUFDO2lCQUNGLENBQUMsQ0FBQTtZQUNKLENBQUM7WUFDRCxJQUFJLEVBQUUsVUFBVSxHQUFHO2dCQUNqQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ25CLENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0QsUUFBUSxZQUFDLENBQU07UUFDYixHQUFHLENBQUMsVUFBVSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQztRQUNqRCxJQUFJLENBQUMsT0FBUSxDQUFDO1lBQ1osWUFBWSxFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUMsVUFBVTtZQUN4QyxXQUFXLEVBQUUsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxFQUFFO1NBQ2hDLENBQUMsQ0FBQTtJQUNKLENBQUM7Q0FDRixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTXlBcHAgfSBmcm9tICcuLi8uLi8uLi8uLi9hcHAnO1xuaW1wb3J0IHsgUFJFRklYX1VSTCwgZm9ybWF0VGltZX0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbCc7XG5jb25zdCBhcHAgPSBnZXRBcHA8SU15QXBwPigpO1xuUGFnZSh7XG4gIGRhdGE6IHtcbiAgICB0YWJzOiBbXCLogIPliY3otYTmlplcIiwgXCLnrZTmoYjlr7nnhadcIl0sXG4gICAgYWN0aXZlSW5kZXg6IDAsXG4gICAgc2xpZGVyT2Zmc2V0OiAwLFxuICAgIHNsaWRlckxlZnQ6IDAsXG4gICAgZXhhbXM6IFtdLFxuICAgIGFuc3dlcnM6IFtdXG4gIH0sXG4gIG9uU2hvdygpIHtcbiAgICBjb25zdCB0aGF0ID0gdGhpcztcbiAgICBjb25zb2xlLmxvZyhhcHAuZ2xvYmFsRGF0YS50eXBlSWQpO1xuICAgIHd4LnJlcXVlc3Qoe1xuICAgICAgdXJsOiBhcHAuZ2xvYmFsRGF0YS5wcmVmaXggKyAnZ2V0RXhhbUluZm9MaXN0JywgLy/ogIPliY3otYTmlpnliJfooahcbiAgICAgIGRhdGE6IHsgaWQ6IGFwcC5nbG9iYWxEYXRhLnR5cGVJZCB9LFxuICAgICAgaGVhZGVyOiB7XG4gICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgLy8g6buY6K6k5YC8XG4gICAgICB9LFxuICAgICAgc3VjY2VzcyhyZXM6IGFueSkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICB0aGF0LnNldERhdGEhKHtcbiAgICAgICAgICBleGFtczogcmVzLmRhdGEucmVzdWx0Lmxpc3QubWFwKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGl0ZW0uY3JlYXRlVGltZSA9IGZvcm1hdFRpbWUobmV3IERhdGUoaXRlbS5jcmVhdGVUaW1lKSlcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnNvbGUubG9nKHRoYXQuZGF0YS5leGFtcyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgd3gucmVxdWVzdCh7XG4gICAgICB1cmw6IGFwcC5nbG9iYWxEYXRhLnByZWZpeCArICdnZXRFeGFtQW5zd2Vyc0xpc3QnLCAvL+etlOmimOWvueeFp+WIl+ihqFxuICAgICAgZGF0YTogeyBpZDogYXBwLmdsb2JhbERhdGEudHlwZUlkIH0sXG4gICAgICBoZWFkZXI6IHtcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyAvLyDpu5jorqTlgLxcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzKHJlczogYW55KSB7XG4gICAgICAgIHRoYXQuc2V0RGF0YSEoe1xuICAgICAgICAgIGFuc3dlcnM6IHJlcy5kYXRhLnJlc3VsdC5saXN0Lm1hcCgoaXRlbTogYW55KSA9PiB7XG4gICAgICAgICAgICBpdGVtLmNyZWF0ZVRpbWUgPSBmb3JtYXRUaW1lKG5ldyBEYXRlKGl0ZW0uY3JlYXRlVGltZSkpXG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2V0RGF0YSEoe1xuICAgICAgYWN0aXZlSW5kZXg6IGFwcC5nbG9iYWxEYXRhLmRhdGFUYWJJbmRleFxuICAgIH0pO1xuICB9LFxuICBvcGVuUGRmKGU6IGFueSkge1xuICAgIHd4LmRvd25sb2FkRmlsZSh7XG4gICAgICB1cmw6IGFwcC5nbG9iYWxEYXRhLmZpbGVQcmVmaXggKyBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pZCxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdmFyIFBhdGggPSByZXMudGVtcEZpbGVQYXRoICAgICAgICAgICAgICAvL+i/lOWbnueahOaWh+S7tuS4tOaXtuWcsOWdgO+8jOeUqOS6juWQjumdouaJk+W8gOacrOWcsOmihOiniOaJgOeUqFxuICAgICAgICB3eC5vcGVuRG9jdW1lbnQoe1xuICAgICAgICAgIGZpbGVQYXRoOiBQYXRoLFxuICAgICAgICAgIGZpbGVUeXBlOiAncGRmJyxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHRhYkNsaWNrKGU6IGFueSkge1xuICAgIGFwcC5nbG9iYWxEYXRhLmRhdGFUYWJJbmRleCA9IGUuY3VycmVudFRhcmdldC5pZDtcbiAgICB0aGlzLnNldERhdGEhKHtcbiAgICAgIHNsaWRlck9mZnNldDogZS5jdXJyZW50VGFyZ2V0Lm9mZnNldExlZnQsXG4gICAgICBhY3RpdmVJbmRleDogZS5jdXJyZW50VGFyZ2V0LmlkXG4gICAgfSlcbiAgfVxufSlcbiJdfQ==